(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{214:function(e,t,a){},329:function(e){e.exports=JSON.parse('{"translation":{"Depression-related articles":"Depression-related articles","Map":"Map","Charts":"Charts","Charts Desc":"Charts: Publications with identified country","Publications Search":"Publications Search"}}')},330:function(e){e.exports=JSON.parse('{"translation":{"Depression-related articles":"Artigos relacionados a depress\xe3o","Map":"Mapa","Charts":"Gr\xe1ficos","Identified countries":"Publica\xe7\xf5es com pa\xeds identificado","Publications by country":"Publica\xe7\xf5es por pa\xeds","Defined Country":"Pa\xeds Definido","Undefined Country":"Pa\xeds Indefinido","Publications Search":"Busca de artigos","Search by title":"Busque pelo titulo","Title":"Titulo","Country":"Pa\xeds","Keywords":"Assuntos frequentes","No Data":"Nenhum item a ser exibido","Total":"Total","Publications":"Publica\xe7\xf5es"}}')},372:function(e,t,a){e.exports=a(667)},377:function(e,t,a){},567:function(e,t,a){},666:function(e,t,a){},667:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),i=(a(377),a(725)),s=a(149),l=a(76),u=a(30),p=a(31),h=a(33),d=a(32),m=a(34),f=a(304),g=a(17),y=a(705),b=a(706),v=a(707),E=a(152),x=a(708),w=Object(f.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function j(e){var t=Object(g.c)().t,a=w();return r.a.createElement(y.a,{position:"static"},r.a.createElement(b.a,null,r.a.createElement(v.a,{onClick:e.toggleMenu,edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(x.a,null)),r.a.createElement(E.a,{variant:"h6",className:a.title},t("Depression-related articles"))))}var O=a(729),k=a(713),S=a(714),C=a(715),P=a(716),D=a(709),M=a(710),I=a(711),_=[{href:"/",text:"Map",icon:r.a.createElement(D.a,null)},{href:"/charts",text:"Charts",icon:r.a.createElement(M.a,null)},{href:"/keywords",text:"Keywords",icon:r.a.createElement(I.a,null)}];function T(e){var t=Object(g.c)().t;return r.a.createElement(O.a,{anchor:"left",open:e.open,onClose:e.toggleMenu},r.a.createElement(k.a,{component:"nav","aria-label":"main mailbox folders",style:{width:"340px"}},_.map((function(a,n){return r.a.createElement(S.a,{key:n,button:!0,component:s.b,to:a.href,onClick:e.toggleMenu},r.a.createElement(C.a,null,a.icon),r.a.createElement(P.a,{primary:t(a.text)}))}))))}var A=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={menu:!1},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"toggleMenu",value:function(){var e=!this.state.menu;this.setState({menu:e})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{toggleMenu:this.toggleMenu.bind(this)}),r.a.createElement(T,{open:this.state.menu,toggleMenu:this.toggleMenu.bind(this)}))}}]),t}(n.Component),L=a(145),R=a(307),N=a(11),B=a.n(N),K=a(19),F=a(308),W="https://depressive-disorders-api.herokuapp.com",z="https://maps.googleapis.com/maps/api/js?AIzaSyBU_jAnvZKTJ3s4ewBwimDqMZdh09J8NJ0",G=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:W;return(a=new URL("".concat(a,"/").concat(e))).search=new URLSearchParams(t).toString(),a},H={method:"GET",headers:{"Content-Type":"application/json"},mode:"cors",cache:"default"},J=a(5),U=a(40),Z=a(719),q=a(718),Y=a(727),V=a(331),$=(a(214),{useCssModules:!1,customCodes:{xk:"Republic of Kosovo"}}),Q=Object(V.a)(n,$),X=a(106),ee=a(668),te=(0,ee.compose)((0,ee.withStateHandlers)((function(e){return{options:{minZoom:2,maxZoom:6},zoom:2,center:{lat:0,lng:0}}}),{}),X.withScriptjs,X.withGoogleMap)((function(e){return r.a.createElement(X.GoogleMap,{options:e.options,defaultZoom:e.zoom,defaultCenter:e.center},e.markers.map((function(t){return r.a.createElement(X.Marker,{key:t._id,position:{lat:t.lat,lng:t.lng},label:{fontSize:"10px",fontWeight:"600",color:"#fff",text:t.count.toString()},onClick:function(a){return e.select(a,t)}},e.country&&e.country._id===t._id&&r.a.createElement(X.InfoWindow,{onCloseClick:e.select},r.a.createElement("div",null,r.a.createElement("span",null,t.code&&r.a.createElement(Q,{code:t.code})),r.a.createElement("span",{style:{margin:"0 10px"}},t.name," (",t.count,")"),r.a.createElement("ul",null,e.keywords.map((function(e){var t=e._id,a=e.name,n=e.total;return r.a.createElement("li",{key:t},a," (",n,")")}))))))})))})),ae=a(201),ne=(a(567),a(726)),re=a(728),ce=a(717),oe={input:{margin:"5px",width:"600px"}},ie=function(e){return r.a.createElement(S.a,Object.assign({button:!0,component:"a"},e))},se=function(e){var t=Object(g.c)().t;return r.a.createElement(ne.a,Object.assign({},e,{style:oe.input,label:t(e.label),variant:"outlined",placeholder:t(e.placeholder)}))},le=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={loading:!1,publications:[],country:e.country?e.country:null,countries:[],search:"",page:1,perPage:10,debounce:null},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.search===this.state.search&&e.country===this.state.country||this.setState({search:e.search,page:1,perPage:10,publications:[],country:e.country?e.country:null,countries:e.countries},this.getPublications)}},{key:"getPublications",value:function(){var e,t,a,n;return B.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.state.loading){r.next=2;break}return r.abrupt("return");case 2:return this.setState({loading:!0}),e={page:this.state.page,perPage:this.state.perPage,search:this.props.search},this.props.country&&(e.country=this.props.country._id),t=G("publications",e),r.next=8,B.a.awrap(fetch(t,H));case 8:return a=r.sent,r.next=11,B.a.awrap(a.json());case 11:n=r.sent,this.setState({publications:[].concat(Object(ae.a)(this.state.publications),Object(ae.a)(n)),loading:!1});case 13:case"end":return r.stop()}}),null,this)}},{key:"onScroll",value:function(e){var t,a,n,r,c=this;return B.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!this.state.loading){o.next=2;break}return o.abrupt("return");case 2:t=e.target.scrollTop,a=e.target.scrollHeight,n=a-t,e.target.clientHeight/n*100>=40&&(r=this.state.page+1,this.setState({page:r},(function(){return B.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(c.getPublications());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))})));case 6:case"end":return o.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement(O.a,{anchor:"right",variant:"persistent",open:this.props.open,onClose:this.props.toggleMenu,onScroll:this.onScroll.bind(this)},r.a.createElement(b.a,{color:"primary",style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},r.a.createElement(g.a,{i18nKey:"Publications Search"}),r.a.createElement(v.a,{onClick:this.props.toggleMenu,edge:"end",color:"inherit","aria-label":"close"},r.a.createElement(ce.a,null))),r.a.createElement(Y.a,null,r.a.createElement(se,{style:oe.input,onChange:this.props.onSearch,label:"Title",variant:"outlined",placeholder:"Search by title"}),r.a.createElement(re.a,{id:"country",options:this.state.countries,getOptionLabel:function(e){var t=e.name,a=e.count;return"".concat(t," (").concat(a,")")},value:this.state.country,onChange:this.props.selectCountry,renderOption:function(e,t){return r.a.createElement("span",null,r.a.createElement(Q,{code:e.code}),e.name)},renderInput:function(e){return r.a.createElement(se,Object.assign({},e,{style:oe.input,label:"Country",variant:"outlined",placeholder:"Country"}))}})),r.a.createElement(k.a,{component:"ul",className:"scroll",style:{width:"600px",overflowY:"auto"}},this.state.publications.map((function(e,t){return r.a.createElement(S.a,{key:t,button:!0,onClick:e.action,style:{padding:0}},r.a.createElement(ie,{href:"https://www.ncbi.nlm.nih.gov/pmc/".concat(e.pmc,"/"),target:"_blank"},r.a.createElement(P.a,{primary:e.title,secondary:e.affiliations?e.affiliations[0].name:""})))}))))}}]),t}(n.Component),ue=Object(f.a)((function(e){return{mapShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:"610px"}}})),pe=Object(J.a)({root:{color:"#6798e5"}})(q.a),he=function(e){return r.a.createElement(Y.a,{display:"flex",flex:"1",alignItems:"center",justifyContent:"center",justifyItems:"center",style:{backgroundColor:"transparent",background:"#0009",position:"absolute",top:0,left:0,width:"calc(100% - ".concat(e.drawerWidth,")"),height:"100vh",zIndex:"9"},p:0,m:0},r.a.createElement(pe,{size:50,thickness:5}))};function de(){var e=ue(),t=Object(U.a)(),a=Object(Z.a)(t.breakpoints.up("md")),c=Object(n.useState)([]),o=Object(K.a)(c,2),i=o[0],s=o[1],l=Object(n.useState)(!0),u=Object(K.a)(l,2),p=u[0],h=u[1],d=Object(n.useState)(!1),m=Object(K.a)(d,2),f=m[0],g=m[1],y=Object(n.useState)([]),b=Object(K.a)(y,2),v=b[0],E=b[1],x=Object(n.useState)(""),w=Object(K.a)(x,2),j=w[0],O=w[1],k=Object(n.useState)(null),S=Object(K.a)(k,2),C=S[0],P=S[1],D=Object(n.useState)(null),M=Object(K.a)(D,2),I=M[0],_=M[1],T=Object(n.useCallback)((function(){var e,t,a;return B.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return _(!0),e=G("publications/count",{search:j}),n.next=4,B.a.awrap(fetch(e,H));case 4:return t=n.sent,n.next=7,B.a.awrap(t.json());case 7:(a=n.sent)?E(a):console.error("FAIL TO LOAD COUNTRIES"),_(!1);case 10:case"end":return n.stop()}}))}),[j]);Object(n.useEffect)((function(){T()}),[T]),Object(n.useEffect)((function(){if(f&&f._id){var e=v.find((function(e){var t=e._id;return f._id===t}));g(e||function(e){return Object(R.a)({},e,{count:0})})}}),[f,v]),Object(n.useEffect)((function(){h(!!a)}),[a]);var A=function(e){var t,n,r=arguments;return B.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>1&&void 0!==r[1]&&r[1],n=[],!t||!t._id||t===f){e.next=7;break}return e.next=5,B.a.awrap(N(t));case 5:n=e.sent,s(n);case 7:h(a),g(t);case 9:case"end":return e.stop()}}))},N=function(e){var t,a,n;return B.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e._id,a=G("countries/".concat(t,"/keywords"),{perPage:5,page:1}),r.next=4,B.a.awrap(fetch(a,H));case 4:return n=r.sent,r.next=7,B.a.awrap(n.json());case 7:return r.abrupt("return",r.sent);case 8:case"end":return r.stop()}}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{display:"flex",flex:"1",className:Object(F.a)(Object(L.a)({},e.mapShift,p)),p:0,m:0},I&&r.a.createElement(he,{drawerWidth:p?"610px":"0"}),r.a.createElement(te,{googleMapURL:z,loadingElement:r.a.createElement("div",{style:{display:"flex",flex:1}}),containerElement:r.a.createElement("div",{style:{display:"flex",flex:1}}),mapElement:r.a.createElement("div",{style:{display:"flex",flex:1}}),markers:v,select:A,country:f,keywords:i})),r.a.createElement(le,{open:p,toggleMenu:function(){return h(!p)},countries:v,country:f,selectCountry:A,search:j,onSearch:function(e){var t=e.target.value;clearTimeout(C);var a=setTimeout((function(){O(t)}),300);P(a)}}))}var me=a(723),fe=a(724),ge=a(59),ye=a(720),be=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={activeIndex:0,data:[]},a.onPieEnter=function(e,t){a.setState({activeIndex:t})},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{gutterBottom:!0,variant:"h5",component:"h2"},r.a.createElement(g.a,{i18nKey:"Identified countries"})),r.a.createElement(ge.c,{width:300,height:200,style:{marginTop:"60px"}},r.a.createElement(ge.b,{activeIndex:this.state.activeIndex,data:this.state.data,cx:150,cy:130,innerRadius:60,outerRadius:80,startAngle:180,endAngle:0,fill:"#8884d8",dataKey:"value",onMouseEnter:this.onPieEnter},this.state.data.map((function(e,t){var a=e.color;return r.a.createElement(ge.a,{key:t,fill:a})}))),r.a.createElement(ge.d,{formatter:function(e,t,a){var n=a.payload;return"".concat(e," (").concat(n.percentage,"%)")}})),this.state.data.map((function(e){return r.a.createElement(Y.a,{key:e.color,display:"flex",alignItems:"center",justifyContent:"start",height:"100%",flexWrap:"wrap",p:1},r.a.createElement(ye.a,{style:{color:e.color}}),r.a.createElement(g.a,{i18nKey:e.name})," - ",e.value," (",e.percentage,"%)")})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.data?{data:e.data}:null}}]),t}(n.Component),ve=a(722),Ee=(a(666),a(721)),xe=a(669),we=Object(xe.a)({root:{color:"#6798e5"}})(q.a),je=Object(xe.a)({colorPrimary:{backgroundColor:"#eef3fd"},barColorPrimary:{backgroundColor:"#6798e5"}})(Ee.a);function Oe(e){var t=Object(g.c)().t;return r.a.createElement(Y.a,{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"start",p:1,height:"100%",style:e.style},e.title&&r.a.createElement(E.a,{gutterBottom:!0,variant:"h5",component:"h5"},r.a.createElement(g.a,{i18nKey:e.title})),r.a.createElement(ne.a,{variant:"outlined",label:t("Search"),placeholder:t("Search by name"),value:e.search,onChange:e.onSearch,disabled:!!e.isLoading,style:{marginBottom:"5px",width:"100%"}}),r.a.createElement("div",{style:{display:"flex",flexGrow:1,alignItems:e.items.length&&!e.isLoading?"start":"center",justifyContent:"center",width:"100%"}},"NO_DATA"===e.isLoading||!0===e.isLoading?r.a.createElement(we,{size:50,thickness:5}):e.items&&e.items.length?r.a.createElement(k.a,{className:"scroll",component:"ul",style:{maxHeight:e.height?e.height:"350px",overflowY:"auto",width:"100%"},onScroll:e.onScroll},e.items.map((function(t,a){return r.a.createElement(S.a,{key:a,button:!0,selected:!!e.selected&&e.selected(t,a),onClick:function(a){return e.onSelect?e.onSelect(a,t):void 0}},!!e.avatar&&e.avatar(t,a),r.a.createElement(P.a,{primary:e.primary(t,a),secondary:e.secondary(t,a)}))}))):t("No Data")),"MORE"===e.isLoading&&r.a.createElement(je,{style:{width:"30%",marginTop:"5px"}}))}var ke=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={search:"",data:[]},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"onSearch",value:function(e){var t=e.target.value;this.setState({search:t})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{gutterBottom:!0,variant:"h5",component:"h2"},r.a.createElement(g.a,{i18nKey:"Publications by country"})),r.a.createElement(Y.a,{display:"flex",alignItems:"center",justifyContent:"space-around",flexWrap:"wrap",p:0,m:0},r.a.createElement(ge.c,{width:500,height:400},r.a.createElement(ge.b,{data:this.state.data,cx:250,cy:200,labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"count"},this.state.data.map((function(t,a){return r.a.createElement(ge.a,{key:t._id,fill:e.state.colors[a]})}))),r.a.createElement(ge.d,{formatter:function(e,t,a){var n=a.payload;return"".concat(e," (").concat(n.percentage,")%")}})),r.a.createElement(Oe,{items:this.state.data.filter((function(t){var a=t.name;return new RegExp(".*".concat(e.state.search,".*"),"gi").test(a)})),isLoading:this.props.isLoading,primary:function(e,t){return"".concat(e.index+1,"\xba ").concat(e.name)},secondary:function(e){return"".concat(e.count," (").concat(e.percentage,"%)")},onSearch:this.onSearch.bind(this),avatar:function(e){return r.a.createElement(ve.a,null,r.a.createElement(Q,{code:e.code,size:"2x"}))}})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.data!==t.data){var a=[];return{data:e.data,colors:e.data.map((function(){var e=function(e){var t="";do{t="#"+(16777215*Math.random()<<0).toString(16)}while(e.includes(t));return t}(a);return a.push(e),e}))}}return null}}]),t}(n.Component),Se=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={mining:[],countries:[],loading:!1},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var e,t,a,n,r,c,o,i;return B.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return this.setState({loading:!0}),e=G("charts/list"),s.next=4,B.a.awrap(fetch(e,H));case 4:return t=s.sent,s.next=7,B.a.awrap(t.json());case 7:a=s.sent,n=a.identifiedCountry,r=a.total,c=a.countries,o=r-n,i=[{value:n,name:"Defined Country",color:"#00e676",percentage:(n/r*100).toFixed(2)},{value:o,name:"Undefined Country",color:"#f50057",percentage:(o/r*100).toFixed(2)}],this.setState({mining:i,countries:c,loading:!1});case 14:case"end":return s.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{padding:"30px"}},r.a.createElement(g.a,{i18nKey:"Charts"})),r.a.createElement(Y.a,{display:"flex",alignItems:"center",justifyContent:"space-around",flexWrap:"wrap",p:1},r.a.createElement(me.a,{style:{margin:"5px",minHeight:"510px"}},r.a.createElement(fe.a,null,r.a.createElement(be,{data:this.state.mining}))),r.a.createElement(me.a,{style:{margin:"5px",minHeight:"510px"}},r.a.createElement(fe.a,null,r.a.createElement(ke,{data:this.state.countries,isLoading:this.state.isLoading})))))}}]),t}(n.Component),Ce=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={keywords:[],loading:!1,search:"",page:1,perPage:20,debounce:null},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:"NO_DATA"}),this.getData()}},{key:"onScroll",value:function(e){var t,a,n,r,c=this;return B.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!this.state.loading){o.next=2;break}return o.abrupt("return");case 2:t=e.target.scrollTop,a=e.target.scrollHeight,n=a-t,e.target.clientHeight/n*100>=40&&(r=this.state.page+1,this.setState({page:r,loading:"MORE"},(function(){return B.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(c.getData());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))})));case 6:case"end":return o.stop()}}),null,this)}},{key:"getData",value:function(){var e,t,a,n;return B.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=G("keywords",{page:this.state.page,perPage:this.state.perPage,search:this.state.search}),r.next=3,B.a.awrap(fetch(e,H));case 3:return t=r.sent,r.next=6,B.a.awrap(t.json());case 6:a=r.sent,n=(n=this.state.keywords).concat(a),this.setState({keywords:n,loading:!1});case 10:case"end":return r.stop()}}),null,this)}},{key:"onSearch",value:function(e){var t=this,a=e.target.value;clearTimeout(this.state.debounce);var n=setTimeout((function(){t.setState({search:a,page:1,perPage:10,keywords:[]},(function(){return B.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.awrap(t.getData());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))}))}),300);this.setState({debounce:n})}},{key:"render",value:function(){var e=this;return r.a.createElement(Oe,{items:this.state.keywords.filter((function(t){var a=t.name;return new RegExp(".*".concat(e.state.search,".*"),"gi").test(a)})),onSearch:this.onSearch.bind(this),onScroll:this.onScroll.bind(this),primary:function(e,t){return"(".concat(t+1,")\xaa ").concat(e.name)},secondary:function(e){return e.count},selected:function(t){return t._id===e.props.selected._id},onSelect:this.props.onSelect,style:{minWidth:"350px"},height:"70vh",isLoading:this.state.loading})}}]),t}(n.Component),Pe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={countries:[],loading:!1,search:"",debounce:null,keyword:{}},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e,t){return B.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.keyword._id===this.state.keyword._id||!this.state.keyword._id){e.next=3;break}return e.next=3,B.a.awrap(this.getData(!1,this.state.keyword));case 3:case"end":return e.stop()}}),null,this)}},{key:"getData",value:function(e,t){var a,n,r;return B.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=G("keywords/".concat(t._id,"/countries")),e.next=4,B.a.awrap(fetch(a,H));case 4:return n=e.sent,e.next=7,B.a.awrap(n.json());case 7:r=e.sent,r=JSON.parse(r.countries),this.setState({countries:r,loading:!1});case 10:case"end":return e.stop()}}),null,this)}},{key:"onSearch",value:function(e){var t=e.target.value;this.setState({search:t})}},{key:"render",value:function(){var e=this;return r.a.createElement(Oe,{style:{flexGrow:1},items:this.state.countries.filter((function(t){var a=t.name;return new RegExp(".*".concat(e.state.search,".*"),"gi").test(a)})),onSearch:this.onSearch.bind(this),isLoading:this.state.loading,height:"70vh",primary:function(e){var t=e.index,a=e.name;return"".concat(t+1,"\xba ").concat(a)},secondary:function(e){var t=e.total,a=e.percentage;return"".concat(t," (").concat(a,"%)")},avatar:function(e){var t=e.code;return r.a.createElement(ve.a,null,r.a.createElement(Q,{code:t,size:"2x"}))}})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.keyword._id!==t.keyword._id?{keyword:e.keyword}:null}}]),t}(n.Component),De=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={selected:{}},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{gutterBottom:!0,variant:"h5",component:"h5",style:{padding:"30px"}},r.a.createElement(g.a,{i18nKey:"Keywords"})),r.a.createElement(Y.a,{display:"flex",alignItems:"start",justifyContent:"space-around",height:"100%",flexWrap:"wrap",p:1},r.a.createElement(Ce,{selected:this.state.selected,onSelect:function(t,a){return e.setState({selected:a})}}),r.a.createElement(Pe,{keyword:this.state.selected})))}}]),t}(n.Component);var Me=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null),r.a.createElement("div",{style:{height:"100vh",display:"flex",flexDirection:"column"}},r.a.createElement(s.a,null,r.a.createElement(A,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:de}),r.a.createElement(l.a,{path:"/charts",component:Se}),r.a.createElement(l.a,{path:"/keywords",component:De})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ie=a(200),_e={en:a(329),pt:a(330)};Ie.a.use(g.b).init({resources:_e,lng:"pt",keySeparator:!1,interpolation:{escapeValue:!1}});Ie.a;o.a.render(r.a.createElement(Me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[372,1,2]]]);
//# sourceMappingURL=main.aa69bb4e.chunk.js.map